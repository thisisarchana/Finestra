{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sandhiya/Downloads/gamified-finance-app-5/lib/transaction-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\r\n\r\nexport type Transaction = {\r\n  id: number\r\n  date: string\r\n  name: string\r\n  category: string\r\n  amount: number\r\n  icon: string\r\n}\r\n\r\nexport type Subscription = {\r\n  id: number\r\n  name: string\r\n  amount: number\r\n  renewalDate: string\r\n  icon: string\r\n}\r\n\r\ntype TransactionContextType = {\r\n  transactions: Transaction[]\r\n  setTransactions: React.Dispatch<React.SetStateAction<Transaction[]>>\r\n  addTransaction: (transaction: Omit<Transaction, \"id\">) => void\r\n  monthlyBudget: number\r\n  setMonthlyBudget: (budget: number) => void\r\n  subscriptions: Subscription[]\r\n  setSubscriptions: React.Dispatch<React.SetStateAction<Subscription[]>>\r\n  addSubscription: (subscription: Omit<Subscription, \"id\">) => void\r\n  removeSubscription: (id: number) => void\r\n}\r\n\r\nconst TransactionContext = createContext<TransactionContextType | undefined>(undefined)\r\n\r\nexport function TransactionProvider({ children }: { children: ReactNode }) {\r\n  const [transactions, setTransactions] = useState<Transaction[]>([])\r\n  const [isLoaded, setIsLoaded] = useState(false)\r\n  const [monthlyBudget, setMonthlyBudgetState] = useState<number>(0)\r\n  const [subscriptions, setSubscriptions] = useState<Subscription[]>([])\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"finestra_transactions\")\r\n    const storedBudget = localStorage.getItem(\"finestra_monthly_budget\")\r\n    const storedSubscriptions = localStorage.getItem(\"finestra_subscriptions\")\r\n\r\n    if (stored) {\r\n      try {\r\n        const parsed = JSON.parse(stored)\r\n        console.log(\"[v0] Context - Loaded transactions from localStorage:\", parsed.length)\r\n        setTransactions(parsed)\r\n      } catch (error) {\r\n        console.error(\"Failed to parse stored transactions:\", error)\r\n        setTransactions([])\r\n      }\r\n    }\r\n\r\n    if (storedBudget) {\r\n      try {\r\n        setMonthlyBudgetState(Number(storedBudget))\r\n      } catch (error) {\r\n        console.error(\"Failed to parse stored budget:\", error)\r\n      }\r\n    }\r\n\r\n    if (storedSubscriptions) {\r\n      try {\r\n        setSubscriptions(JSON.parse(storedSubscriptions))\r\n      } catch (error) {\r\n        console.error(\"Failed to parse stored subscriptions:\", error)\r\n        setSubscriptions([])\r\n      }\r\n    }\r\n\r\n    setIsLoaded(true)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      localStorage.setItem(\"finestra_transactions\", JSON.stringify(transactions))\r\n    }\r\n  }, [transactions, isLoaded])\r\n\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      localStorage.setItem(\"finestra_subscriptions\", JSON.stringify(subscriptions))\r\n    }\r\n  }, [subscriptions, isLoaded])\r\n\r\n  useEffect(() => {\r\n    console.log(\"[v0] Context - Transactions updated, count:\", transactions.length)\r\n  }, [transactions])\r\n\r\n  const setMonthlyBudget = (budget: number) => {\r\n    setMonthlyBudgetState(budget)\r\n    localStorage.setItem(\"finestra_monthly_budget\", String(budget))\r\n  }\r\n\r\n  const addTransaction = (transaction: Omit<Transaction, \"id\">) => {\r\n    const newTransaction = {\r\n      ...transaction,\r\n      id: Math.max(...transactions.map((t) => t.id), 0) + 1,\r\n    }\r\n    console.log(\"[v0] Context - Adding transaction:\", newTransaction)\r\n    setTransactions([newTransaction, ...transactions])\r\n  }\r\n\r\n  const addSubscription = (subscription: Omit<Subscription, \"id\">) => {\r\n    const newSubscription = {\r\n      ...subscription,\r\n      id: Math.max(...subscriptions.map((s) => s.id), 0) + 1,\r\n    }\r\n    setSubscriptions([...subscriptions, newSubscription])\r\n  }\r\n\r\n  const removeSubscription = (id: number) => {\r\n    setSubscriptions(subscriptions.filter((s) => s.id !== id))\r\n  }\r\n\r\n  return (\r\n    <TransactionContext.Provider\r\n      value={{\r\n        transactions,\r\n        setTransactions,\r\n        addTransaction,\r\n        monthlyBudget,\r\n        setMonthlyBudget,\r\n        subscriptions,\r\n        setSubscriptions,\r\n        addSubscription,\r\n        removeSubscription,\r\n      }}\r\n    >\r\n      {children}\r\n    </TransactionContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useTransactions() {\r\n  const context = useContext(TransactionContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useTransactions must be used within a TransactionProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAkCA,MAAM,mCAAqB,IAAA,sNAAa,EAAqC;AAEtE,SAAS,oBAAoB,EAAE,QAAQ,EAA2B;IACvE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB,EAAE;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,sBAAsB,GAAG,IAAA,iNAAQ,EAAS;IAChE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IAErE,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,MAAM,eAAe,aAAa,OAAO,CAAC;QAC1C,MAAM,sBAAsB,aAAa,OAAO,CAAC;QAEjD,IAAI,QAAQ;YACV,IAAI;gBACF,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,QAAQ,GAAG,CAAC,yDAAyD,OAAO,MAAM;gBAClF,gBAAgB;YAClB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wCAAwC;gBACtD,gBAAgB,EAAE;YACpB;QACF;QAEA,IAAI,cAAc;YAChB,IAAI;gBACF,sBAAsB,OAAO;YAC/B,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,kCAAkC;YAClD;QACF;QAEA,IAAI,qBAAqB;YACvB,IAAI;gBACF,iBAAiB,KAAK,KAAK,CAAC;YAC9B,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yCAAyC;gBACvD,iBAAiB,EAAE;YACrB;QACF;QAEA,YAAY;IACd,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;YACZ,aAAa,OAAO,CAAC,yBAAyB,KAAK,SAAS,CAAC;QAC/D;IACF,GAAG;QAAC;QAAc;KAAS;IAE3B,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;YACZ,aAAa,OAAO,CAAC,0BAA0B,KAAK,SAAS,CAAC;QAChE;IACF,GAAG;QAAC;QAAe;KAAS;IAE5B,IAAA,kNAAS,EAAC;QACR,QAAQ,GAAG,CAAC,+CAA+C,aAAa,MAAM;IAChF,GAAG;QAAC;KAAa;IAEjB,MAAM,mBAAmB,CAAC;QACxB,sBAAsB;QACtB,aAAa,OAAO,CAAC,2BAA2B,OAAO;IACzD;IAEA,MAAM,iBAAiB,CAAC;QACtB,MAAM,iBAAiB;YACrB,GAAG,WAAW;YACd,IAAI,KAAK,GAAG,IAAI,aAAa,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE,GAAG,KAAK;QACtD;QACA,QAAQ,GAAG,CAAC,sCAAsC;QAClD,gBAAgB;YAAC;eAAmB;SAAa;IACnD;IAEA,MAAM,kBAAkB,CAAC;QACvB,MAAM,kBAAkB;YACtB,GAAG,YAAY;YACf,IAAI,KAAK,GAAG,IAAI,cAAc,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE,GAAG,KAAK;QACvD;QACA,iBAAiB;eAAI;YAAe;SAAgB;IACtD;IAEA,MAAM,qBAAqB,CAAC;QAC1B,iBAAiB,cAAc,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACxD;IAEA,qBACE,8OAAC,mBAAmB,QAAQ;QAC1B,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sandhiya/Downloads/gamified-finance-app-5/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sandhiya/Downloads/gamified-finance-app-5/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sandhiya/Downloads/gamified-finance-app-5/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}